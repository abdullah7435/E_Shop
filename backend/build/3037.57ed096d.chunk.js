"use strict";(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[3037],{23037:(y,c,e)=>{e.r(c),e.d(c,{InformationBoxEE:()=>v});var t=e(67294),r=e(70642),l=e(11047),d=e(75515),n=e(77197),o=e(57993),i=e(86896),s=e(88767),a=e(50236),f=e(52258),O=e(5318);const u="strapi_reviewWorkflows_stage";function v(){const{initialData:E,isCreatingEntry:S,layout:{uid:R},isSingleType:k,onChange:D}=(0,o.Wq)(),{put:I}=(0,o.kY)(),m=E?.[u]??null,P=Object.prototype.hasOwnProperty.call(E,u),{formatMessage:h}=(0,i.Z)(),{formatAPIError:L}=(0,o.So)(),M=(0,o.lm)(),{workflows:N,isLoading:G}=(0,f.n)(),C=N?.[0]??null,{error:W,isLoading:U,mutateAsync:B}=(0,s.useMutation)(async({entityId:g,stageId:w,uid:T})=>{const A=k?"single-types":"collection-types",{data:{data:p}}=await I(`/admin/content-manager/${A}/${T}/${g}/stage`,{data:{id:w}});return D({target:{name:u,value:p[u]}},!0),p},{onSuccess(){M({type:"success",message:{id:"content-manager.reviewWorkflows.stage.notification.saved",defaultMessage:"Review stage updated"}})}}),K=m===null&&!G&&!S&&h({id:"content-manager.reviewWorkflows.stage.select.placeholder",defaultMessage:"Select a stage"}),_=W&&L(W)||K||null,F=async({value:g})=>{try{await B({entityId:E.id,stageId:g,uid:R})}catch{}},{themeColorName:x}=m?.color?(0,O.k)(m?.color):{};return t.createElement(a.d.Root,null,t.createElement(a.d.Title,null),P&&!S&&t.createElement(r.q4,{error:_,name:u,id:u,value:m?.id,onChange:g=>F({value:g}),label:h({id:"content-manager.reviewWorkflows.stage.label",defaultMessage:"Review stage"}),startIcon:t.createElement(l.k,{as:"span",height:2,background:m?.color,borderColor:x==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2,marginRight:"-3px"}),customizeContent:()=>t.createElement(l.k,{as:"span",justifyContent:"space-between",alignItems:"center",width:"100%"},t.createElement(d.Z,{textColor:"neutral800",ellipsis:!0},m?.name),U?t.createElement(n.a,{small:!0,style:{display:"flex"}}):null)},C?C.stages.map(({id:g,color:w,name:T})=>{const{themeColorName:A}=(0,O.k)(w);return t.createElement(r.ag,{startIcon:t.createElement(l.k,{height:2,background:w,borderColor:A==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2}),value:g,textValue:T},T)}):[]),t.createElement(a.d.Body,null))}},86978:(y,c,e)=>{e.d(c,{$k:()=>i,FT:()=>a,Nj:()=>o,Ot:()=>n,QM:()=>l,lv:()=>s,sN:()=>r,uL:()=>f,x4:()=>d});var t=e(42675);const r="settings_review-workflows",l="Settings/Review_Workflows/SET_WORKFLOWS",d="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",n="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",o="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",i="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",s={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},a=t.W.colors.primary600,f={STAGE:"stage"}},52258:(y,c,e)=>{e.d(c,{n:()=>l});var t=e(57993),r=e(88767);function l(d={}){const{id:n="",...o}=d,i={populate:"stages"},{get:s}=(0,t.kY)(),{data:a,isLoading:f,status:O,refetch:u}=(0,r.useQuery)(["review-workflows","workflows",n],async()=>{try{const{data:{data:E}}=await s(`/admin/review-workflows/workflows/${n}`,{params:{...i,...o}});return E}catch{return null}});let v=[];return n&&a?v=[a]:Array.isArray(a)&&(v=a),{workflows:v,isLoading:f,status:O,refetch:u}}},5318:(y,c,e)=>{e.d(c,{k:()=>l,s:()=>d});var t=e(42675),r=e(86978);function l(n){if(!n)return null;const i=Object.entries(t.W.colors).filter(([,s])=>s.toUpperCase()===n.toUpperCase()).reduce((s,[a])=>(r.lv?.[a]&&(s=a),s),null);return i?{themeColorName:i,name:r.lv[i]}:null}function d(){return Object.entries(r.lv).map(([n,o])=>({hex:t.W.colors[n].toUpperCase(),name:o}))}}}]);
